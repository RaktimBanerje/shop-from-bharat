(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6636],{45563:(e,s,r)=>{Promise.resolve().then(r.bind(r,11934))},11934:(e,s,r)=>{"use strict";r.d(s,{default:()=>W});var a=r(95155),d=r(12115),i=r(2809),c=r.n(i),t=r(88713),_=r(30107),n=r(11414),l=r(52610),o=r.n(l);r(30133);var h=r(23539),m=r.n(h),u=r(36797);let p=()=>{let[e,s]=(0,d.useState)(""),[r,i]=(0,d.useState)(""),[c,t]=(0,d.useState)(""),[l,h]=(0,d.useState)(!1),[p,x]=(0,d.useState)(null);(0,d.useEffect)(()=>{x(localStorage.getItem("bharatId"))},[]),(0,d.useEffect)(()=>{p&&(async()=>{try{let e=await (0,_.A)("GET","api/user/".concat(p));if(e.status){let{user:r}=e;s(r.name||"Your Name"),i(r.contact_number||"Your Phone"),t(r.email||"youremail@example.com")}else console.error("Failed to fetch user data")}catch(e){console.error("Error fetching user data:",e)}})()},[p]);let j=async()=>{if(l)try{(await (0,_.A)("POST","api/user/".concat(p),{name:e,contact_number:r})).status?n.oR.success("User details updated successfully"):n.oR.error("Failed to update user details")}catch(e){console.error("Error updating user details:",e),n.oR.error("An error occurred while updating details")}h(!l)};return(0,a.jsx)("div",{className:m().account,children:(0,a.jsx)("div",{className:m().account_container,children:(0,a.jsxs)("div",{className:m().account_info,children:[(0,a.jsxs)("div",{className:m().account_header,children:[(0,a.jsxs)("div",{className:m().header_left,children:[(0,a.jsx)("h4",{children:"Account Details"}),(0,a.jsx)("p",{children:"Your profile photo, phone number, and email"})]}),(0,a.jsx)("div",{className:m().header_right,children:(0,a.jsx)("button",{onClick:j,children:l?"SAVE DETAILS":"EDIT DETAILS"})})]}),(0,a.jsxs)("div",{className:m().account_section,children:[(0,a.jsx)("div",{className:m().account_name,children:(0,a.jsx)(u.$,{className:m().name_field,label:"Name",value:e,onChange:e=>s(e.target.value),disabled:!l,placeholder:"Your Name"})}),(0,a.jsxs)("div",{className:m().account_contact,children:[(0,a.jsx)(o(),{country:"us",label:"Phone",value:r,onChange:e=>i(e),disabled:!l,className:m().input_field,inputStyle:{height:"100%",width:"100%",color:l?"black":"rgba(0, 0, 0, 0.38)"},placeholder:"Your Phone"}),(0,a.jsx)(u.$,{className:m().input_field,label:"Email Address",value:c,disabled:!0,placeholder:"youremail@example.com"})]})]})]})})})};var x=r(9192),j=r.n(x),v=r(44012);let f={src:"/_next/static/media/pencil.86971277.svg",height:24,width:24,blurWidth:0,blurHeight:0},y={src:"/_next/static/media/trash.2dc28324.svg",height:18,width:16,blurWidth:0,blurHeight:0};r(17742);var N=r(36956),g=r(71081),b=r.n(g);let A=e=>{let{onClose:s,address_obj:r,onSave:i}=e;console.log("address_obj",r);let[c,t]=(0,d.useState)({name:"",phone:"",address:"",zipCode:"",email:"",city:"",country:"",addressType:[]});(0,d.useEffect)(()=>{r&&(console.log(r,"address_obj====."),t({name:r.name||"",phone:r.contact_number||"",address:r.address||"",zipCode:r.zip_code||"",email:r.email||"",city:r.city||"",country:r.country||"",addressType:r.address_type?[r.address_type]:[]}))},[r]);let l=e=>{let{name:s,value:r}=e.target;t({...c,[s]:r})},o=e=>{let{name:s,checked:r}=e.target;r?t({...c,addressType:[...c.addressType,s]}):t({...c,addressType:c.addressType.filter(e=>e!==s)})},h=async()=>{try{let e;let a={name:c.name,contact_number:c.phone,email:c.email,address:c.address,zip_code:c.zipCode,city:c.city,country:c.country,address_type:c.addressType[0]};(e=r?await (0,_.A)("POST","api/address/".concat(r._id),a):await (0,_.A)("POST","api/address/create",a)).status?(n.oR.success("Address details saved successfully"),console.log("Address saved successfully:",e),i(),s()):n.oR.error("Failed to save address details")}catch(e){console.error("Error saving address:",e),n.oR.error("An error occurred while saving the address")}};return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:b().modal_header,children:[(0,a.jsx)("div",{className:b().header_left,children:(0,a.jsx)("h2",{children:"Enter Your Address"})}),(0,a.jsx)("button",{onClick:s,children:"X"})]}),(0,a.jsxs)("div",{className:b().modal_inputs,children:[(0,a.jsx)(u.$,{className:b().name_field,label:"What should we call you?",name:"name",value:c.name,onChange:l}),(0,a.jsxs)("div",{className:b().form_zip_city,children:[(0,a.jsx)(u.$,{className:b().input_field,label:"Phone Number",name:"phone",value:c.phone,onChange:l,required:!0}),(0,a.jsx)(u.$,{className:b().input_field,label:"Email Address",name:"email",value:c.email,onChange:l,required:!0})]}),(0,a.jsxs)("div",{className:b().form_zip_city,children:[(0,a.jsx)(u.$,{className:b().input_field,label:"House/Flat/Floor No.",name:"address",value:c.address,onChange:l,required:!0}),(0,a.jsx)(u.$,{className:b().input_field,label:"Zip Code",name:"zipCode",value:c.zipCode,onChange:l,required:!0})]}),(0,a.jsxs)("div",{className:b().form_zip_city,children:[(0,a.jsx)(u.$,{className:b().input_field,label:"City",name:"city",value:c.city,onChange:l,required:!0}),(0,a.jsx)(u.$,{className:b().input_field,label:"Country",name:"country",value:c.country,onChange:l,required:!0})]}),(0,a.jsxs)("div",{className:b().checkboxContainer,children:[(0,a.jsxs)("label",{className:b().checkbox_label,children:[(0,a.jsx)("input",{type:"checkbox",name:"home",checked:c.addressType.includes("home"),onChange:o})," ","Home"]}),(0,a.jsxs)("label",{className:b().checkbox_label,children:[(0,a.jsx)("input",{type:"checkbox",name:"work",checked:c.addressType.includes("work"),onChange:o})," ","Work"]}),(0,a.jsxs)("label",{className:b().checkbox_label,children:[(0,a.jsx)("input",{type:"checkbox",name:"other",checked:c.addressType.includes("other"),onChange:o})," ","Other"]})]})]}),(0,a.jsx)("div",{className:b().modal_actions,children:(0,a.jsx)("button",{className:b().proceedBtn,onClick:h,children:"Save Address"})})]})};var O=r(78416),C=r(36417),E=r(27753),S=r(75131),k=r(26214),w=r(22282),P=r(5565);let T=()=>{let[e,s]=(0,d.useState)(!1),[r,i]=(0,d.useState)([]),[c,t]=(0,d.useState)(!0),[l,o]=(0,d.useState)(null),[h,m]=(0,d.useState)(!1),[u,p]=d.useState(null),x=e=>{p(e),m(!0)},g=()=>{m(!1),p(null)},b=function(){let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;o(r),s(!e)},T=async()=>{try{(await (0,_.A)("POST","api/address/".concat(u),{status:2})).status?(i(r.filter(e=>e._id!==u)),n.oR.success("Address deleted successfully")):n.oR.error("Failed to delete address")}catch(e){console.error("Error deleting address:",e),n.oR.error("An error occurred while deleting the address")}g()},I=async()=>{try{let e=await (0,_.A)("GET","api/address/list");e.status?i(e.address):n.oR.error("Failed to fetch addresses")}catch(e){console.error("Error fetching addresses:",e)}finally{t(!1)}};return((0,d.useEffect)(()=>{I()},[]),c)?(0,a.jsx)(N.A,{}):(0,a.jsxs)(d.Fragment,{children:[(0,a.jsx)("div",{className:j().addresses,children:(0,a.jsx)("div",{className:j().addresses_container,children:(0,a.jsxs)("div",{className:j().addresses_info,children:[(0,a.jsxs)("div",{className:j().addresses_header,children:[(0,a.jsxs)("div",{className:j().header_left,children:[(0,a.jsx)("h4",{children:"Saved Address"}),(0,a.jsx)("p",{children:"Manage all of your saved addresses"})]}),(0,a.jsx)("div",{className:j().header_right,children:(0,a.jsx)("button",{onClick:()=>b(),children:"ADD ADDRESS"})})]}),(0,a.jsxs)("div",{className:j().addresses_list,children:[r.map(e=>(0,a.jsxs)("div",{className:j().address_info,children:[(0,a.jsx)("div",{className:j().select_address,children:(0,a.jsxs)("div",{className:j().address_type,children:[(0,a.jsx)("h5",{children:e.address_type}),(0,a.jsx)("p",{children:"Courier Delivery"})]})}),(0,a.jsxs)("div",{className:j().user_address,children:[(0,a.jsx)(P.default,{src:v.A,alt:"Pin Icon",width:24,height:24}),(0,a.jsx)("span",{children:"".concat(e.address,", ").concat(e.zip_code)})]}),(0,a.jsxs)("div",{className:j().address_actions,children:[(0,a.jsx)(P.default,{src:f,alt:"Edit Icon",width:24,height:24,onClick:()=>b(e)}),(0,a.jsx)(P.default,{src:y,alt:"Delete Icon",width:24,height:24,onClick:()=>x(e._id)})]})]},e._id)),(0,a.jsxs)(O.A,{open:h,onClose:g,"aria-labelledby":"confirm-dialog-title","aria-describedby":"confirm-dialog-description",children:[(0,a.jsx)(C.A,{id:"confirm-dialog-title",children:"Delete Address"}),(0,a.jsx)(E.A,{children:(0,a.jsx)(S.A,{id:"confirm-dialog-description",children:"Are you sure you want to delete this address?"})}),(0,a.jsxs)(k.A,{children:[(0,a.jsx)(w.A,{onClick:g,color:"primary",children:"Cancel"}),(0,a.jsx)(w.A,{onClick:T,color:"secondary",autoFocus:!0,children:"Delete"})]})]})]})]})})}),e&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:j().modal_container,children:(0,a.jsx)("div",{className:j().modal_overlay,children:(0,a.jsx)("div",{className:j().modal,children:(0,a.jsx)(A,{onClose:b,address_obj:l,onSave:I})})})})})]})};var I=r(2005),D=r.n(I),F=r(66389);let R={src:"/_next/static/media/Filter.b9220c2b.svg",height:24,width:24,blurWidth:0,blurHeight:0},z=()=>{let[e,s]=(0,d.useState)([]),[r,i]=(0,d.useState)(!0);return((0,d.useEffect)(()=>{(async()=>{try{let e=await (0,_.A)("GET","api/order/list");e.status?s(e.orders):alert("Failed to fetch orders")}catch(e){console.error("Error fetching orders:",e)}finally{i(!1)}})()},[]),r)?(0,a.jsx)(N.A,{}):(0,a.jsx)("div",{className:D().orders,children:(0,a.jsx)("div",{className:D().orders_container,children:(0,a.jsxs)("div",{className:D().orders_info,children:[(0,a.jsxs)("div",{className:D().orders_header,children:[(0,a.jsxs)("div",{className:D().header_left,children:[(0,a.jsx)("h4",{children:"Orders"}),(0,a.jsx)("p",{children:"Access all the orders you have placed"})]}),(0,a.jsx)("div",{className:D().header_right,children:(0,a.jsxs)("div",{className:D().inputWrapper,children:[(0,a.jsx)(P.default,{src:F.A,alt:"search icon",className:D().searchIcon,width:24,height:24}),(0,a.jsx)("input",{className:D().input,placeholder:"Search by order name"}),(0,a.jsx)(P.default,{src:R,alt:"Filter icon",className:D().filterIcon,width:24,height:24})]})})]}),(0,a.jsx)("div",{className:D().orders_list,children:e.map(e=>{var s;return(0,a.jsxs)("div",{className:D().order_info,children:[(0,a.jsxs)("div",{className:D().info_header,children:[(0,a.jsx)("div",{className:D().info_header_left,children:(0,a.jsx)("div",{className:D().info_header_left_info,children:(0,a.jsxs)("div",{className:D().info_header_left_top,children:[(0,a.jsx)("span",{className:D().total_price}),(0,a.jsx)("span",{className:D().header_info_tag,children:"PROCESSING"})]})})}),(0,a.jsx)("div",{className:D().info_header_right,children:(0,a.jsxs)("div",{className:D().total_items,children:[e.products.length," items"]})})]}),(0,a.jsxs)("div",{className:D().order_details,children:[(0,a.jsxs)("div",{className:D().order_details_left,children:[(0,a.jsxs)("div",{className:D().order_number_container,children:[(0,a.jsx)("div",{className:D().order_number_heading,children:"Order Number"}),(0,a.jsx)("div",{className:D().order_number,children:e.order_number})]}),(0,a.jsxs)("div",{className:D().order_receiver_container,children:[(0,a.jsx)("div",{className:D().order_receiver_heading,children:"Receiver"}),(0,a.jsxs)("div",{className:D().order_receiver,children:[(null===(s=e.address)||void 0===s?void 0:s.name)||"N/A"," "]})]}),(0,a.jsxs)("div",{className:D().order_eta_container,children:[(0,a.jsx)("div",{className:D().order_eta_heading,children:"Estimated delivery time"}),(0,a.jsx)("div",{className:D().order_eta,children:"7 business days after the store confirms the order"})]})]}),(0,a.jsxs)("div",{className:D().order_details_right,children:[(0,a.jsxs)("div",{className:D().order_service_container,children:[(0,a.jsx)("div",{className:D().order_service_heading,children:"Delivery Service"}),(0,a.jsx)("div",{className:D().order_service,children:(0,a.jsx)("span",{children:"--"})})]}),(0,a.jsxs)("div",{className:D().order_courier_container,children:[(0,a.jsx)("div",{className:D().order_courier_heading,children:"Courier delivery to"}),(0,a.jsx)("div",{className:D().order_courier,children:e.address?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("p",{children:[e.address.address,","]}),(0,a.jsxs)("p",{children:[e.address.city,", ",e.address.zip_code]}),(0,a.jsx)("p",{children:e.address.country})]}):(0,a.jsx)("p",{children:"Address not available"})})]})]})]})]},e._id)})})]})})})};var G=r(2738),q=r.n(G);let X=()=>(0,a.jsx)("div",{className:q().payment,children:(0,a.jsx)("div",{className:q().payment_container,children:(0,a.jsxs)("div",{className:q().payment_info,children:[(0,a.jsxs)("div",{className:q().payment_header,children:[(0,a.jsxs)("div",{className:q().header_left,children:[(0,a.jsx)("h4",{children:"Payment Methods"}),(0,a.jsx)("p",{children:"Manage your saved payment methods"})]}),(0,a.jsx)("div",{className:q().header_right,children:(0,a.jsx)("button",{children:"ADD PAYMENT METHODS"})})]}),(0,a.jsxs)("div",{className:q().payments_list,children:[(0,a.jsxs)("div",{className:q().payment_data,children:[(0,a.jsxs)("div",{className:q().payment_type,children:[(0,a.jsx)("h5",{children:"mygpay9-1@okhdfcbank"}),(0,a.jsx)("p",{children:"GooglePay UPI"})]}),(0,a.jsxs)("div",{className:q().payment_status,children:[(0,a.jsx)("div",{className:q().payment_circle}),(0,a.jsx)("span",{children:"UPI"})]}),(0,a.jsxs)("div",{className:q().payment_actions,children:[(0,a.jsx)(P.default,{src:f,alt:"Edit Icon",width:24,height:24}),(0,a.jsx)(P.default,{src:y,alt:"Delete Icon",width:24,height:24})]})]}),(0,a.jsxs)("div",{className:q().payment_data,children:[(0,a.jsxs)("div",{className:q().payment_type,children:[(0,a.jsx)("h5",{children:"**** **** **** 8977"}),(0,a.jsx)("p",{children:"Flipkart Axis Bank Credit Card"})]}),(0,a.jsxs)("div",{className:q().payment_status,children:[(0,a.jsx)("div",{className:q().payment_circle}),(0,a.jsx)("span",{children:"CREDIT CARD"})]}),(0,a.jsxs)("div",{className:q().payment_actions,children:[(0,a.jsx)(P.default,{src:f,alt:"Edit Icon",width:24,height:24}),(0,a.jsx)(P.default,{src:y,alt:"Delete Icon",width:24,height:24})]})]})]})]})})}),M=[{id:1,name:"Account Details"},{id:2,name:"Saved Address"},{id:3,name:"Orders"}],W=()=>{let[e,s]=(0,d.useState)(1),[r,i]=(0,d.useState)(),_=e=>{s(e)};return(0,d.useEffect)(()=>{i(localStorage.getItem("BHARAT_TOKEN"))},[]),(0,a.jsx)("div",{className:c().profile,children:(0,a.jsxs)("div",{className:c().profile_container,children:[(0,a.jsx)(t.A,{token:r}),(0,a.jsx)("div",{className:c().line}),(0,a.jsxs)("div",{className:c().selected_tab,children:[(0,a.jsx)("div",{className:c().profile_tabs,children:M.map((s,r)=>(0,a.jsx)("div",{className:"".concat(c().profile_tab," ").concat(e===s.id?c().active:""),onClick:()=>_(s.id),children:s.name},r))}),1===e?(0,a.jsx)(p,{}):2===e?(0,a.jsx)(T,{}):3===e?(0,a.jsx)(z,{}):(0,a.jsx)(X,{})]})]})})}},23539:e=>{e.exports={account:"Account_account__4YMmF",account_container:"Account_account_container__GMwan",account_info:"Account_account_info__IEEyj",account_header:"Account_account_header__1L_TY",header_left:"Account_header_left__SVefB",header_right:"Account_header_right__UzLhj",account_section:"Account_account_section__ED2Lb",account_photo:"Account_account_photo__C3eGC",profile:"Account_profile__OCNuM",account_contact:"Account_account_contact__mG1Ni",name_field:"Account_name_field__Xq6B4",input_field:"Account_input_field__DGvtQ"}},9192:e=>{e.exports={modal_container:"Addresses_modal_container__FZNOT",modal_overlay:"Addresses_modal_overlay__8RsQo",modal:"Addresses_modal__V3A3G",addresses:"Addresses_addresses__d_abZ",addresses_container:"Addresses_addresses_container__OXAkJ",addresses_info:"Addresses_addresses_info__Apa4Z",addresses_header:"Addresses_addresses_header__6piXd",header_left:"Addresses_header_left__Nk9bk",header_right:"Addresses_header_right__4WETD",addresses_list:"Addresses_addresses_list__9qlw3",address_info:"Addresses_address_info__cRU0l",select_address:"Addresses_select_address__GJv__",address_type:"Addresses_address_type__z0Nh4",address_status:"Addresses_address_status__7isG1",address_circle:"Addresses_address_circle__M0Eqr",user_address:"Addresses_user_address__6vJrf",address_actions:"Addresses_address_actions__QzAT2"}},2005:e=>{e.exports={orders:"Orders_orders__3eQAZ",orders_container:"Orders_orders_container__iqSKd",orders_info:"Orders_orders_info__XX_CN",orders_header:"Orders_orders_header__M_Qeh",header_left:"Orders_header_left__VoF5_",header_right:"Orders_header_right__OFb2g",inputWrapper:"Orders_inputWrapper__cueox",searchIcon:"Orders_searchIcon__k074d",filterIcon:"Orders_filterIcon__HUo1f",input:"Orders_input__peweo",orders_list:"Orders_orders_list__9pV3r",order_info:"Orders_order_info__FF4Gl",info_header:"Orders_info_header__fu8FI",info_header_left:"Orders_info_header_left__UHf0v",info_header_left_info:"Orders_info_header_left_info__z_gVD",info_header_left_top:"Orders_info_header_left_top__upCzc",total_price:"Orders_total_price__XXB9F",header_info_tag:"Orders_header_info_tag__SnOYi",info_header_right:"Orders_info_header_right__iuaEb",total_items:"Orders_total_items__rWSiJ",items_images:"Orders_items_images__QX_lT",order_details:"Orders_order_details__XT3TT",order_details_left:"Orders_order_details_left__gvR9_",order_number_container:"Orders_order_number_container__nia2_",order_receiver_container:"Orders_order_receiver_container__EfRwm",order_eta_container:"Orders_order_eta_container__ngvgJ",order_service_container:"Orders_order_service_container__Uihfd",order_courier_container:"Orders_order_courier_container__jM_Tb",order_number_heading:"Orders_order_number_heading___e9mC",order_receiver_heading:"Orders_order_receiver_heading__oLIxn",order_eta_heading:"Orders_order_eta_heading__BtaPQ",order_service_heading:"Orders_order_service_heading__7YXbw",order_courier_heading:"Orders_order_courier_heading__GRBI_",order_number:"Orders_order_number__qCkZW",order_receiver:"Orders_order_receiver__NsGx4",order_eta:"Orders_order_eta__vcPHw",order_courier:"Orders_order_courier___qpso",order_service:"Orders_order_service__lhexc",order_details_right:"Orders_order_details_right__aV3c3"}},2738:e=>{e.exports={payment:"Payment_payment__Rfx1q",payment_container:"Payment_payment_container__q8Lpe",payment_info:"Payment_payment_info__8IUK9",payment_header:"Payment_payment_header__xY0DS",header_left:"Payment_header_left__53tt0",header_right:"Payment_header_right__pwhIe",payments_list:"Payment_payments_list__BzUNv",payment_data:"Payment_payment_data__EandZ",payment_type:"Payment_payment_type__OWwpZ",payment_status:"Payment_payment_status__XVO1T",payment_circle:"Payment_payment_circle__92TiM",payment_actions:"Payment_payment_actions__G5SQq"}},2809:e=>{e.exports={profile:"Profile_profile__6NT6e",profile_container:"Profile_profile_container__BpxhA",profile_tabs:"Profile_profile_tabs__a00X8",profile_tab:"Profile_profile_tab__XdcvX",active:"Profile_active__6cg8Z",selected_tab:"Profile_selected_tab__Kf1KE",line:"Profile_line__ckv5L"}}},e=>{var s=s=>e(e.s=s);e.O(0,[1398,9432,7540,7756,931,7125,3753,2651,3862,1685,8713,6120,8441,1517,7358],()=>s(45563)),_N_E=e.O()}]);
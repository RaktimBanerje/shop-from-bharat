(()=>{var e={};e.id=734,e.ids=[734],e.modules={10846:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},19121:e=>{"use strict";e.exports=require("next/dist/server/app-render/action-async-storage.external.js")},3295:e=>{"use strict";e.exports=require("next/dist/server/app-render/after-task-async-storage.external.js")},29294:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-async-storage.external.js")},63033:e=>{"use strict";e.exports=require("next/dist/server/app-render/work-unit-async-storage.external.js")},12412:e=>{"use strict";e.exports=require("assert")},94735:e=>{"use strict";e.exports=require("events")},29021:e=>{"use strict";e.exports=require("fs")},81630:e=>{"use strict";e.exports=require("http")},55591:e=>{"use strict";e.exports=require("https")},21820:e=>{"use strict";e.exports=require("os")},33873:e=>{"use strict";e.exports=require("path")},27910:e=>{"use strict";e.exports=require("stream")},83997:e=>{"use strict";e.exports=require("tty")},79551:e=>{"use strict";e.exports=require("url")},28354:e=>{"use strict";e.exports=require("util")},74075:e=>{"use strict";e.exports=require("zlib")},37619:(e,t,r)=>{"use strict";r.r(t),r.d(t,{GlobalError:()=>n.a,__next_app__:()=>d,pages:()=>u,routeModule:()=>p,tree:()=>c});var s=r(70260),i=r(28203),a=r(25155),n=r.n(a),l=r(67292),o={};for(let e in l)0>["default","tree","pages","GlobalError","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);r.d(t,o);let c=["",{children:["verify-otp",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(r.bind(r,53225)),"C:\\Projects\\shop-from-bharat\\src\\app\\verify-otp\\page.js"]}]},{metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}]},{layout:[()=>Promise.resolve().then(r.bind(r,62804)),"C:\\Projects\\shop-from-bharat\\src\\app\\layout.js"],"not-found":[()=>Promise.resolve().then(r.t.bind(r,19937,23)),"next/dist/client/components/not-found-error"],forbidden:[()=>Promise.resolve().then(r.t.bind(r,69116,23)),"next/dist/client/components/forbidden-error"],unauthorized:[()=>Promise.resolve().then(r.t.bind(r,41485,23)),"next/dist/client/components/unauthorized-error"],metadata:{icon:[async e=>(await Promise.resolve().then(r.bind(r,70440))).default(e)],apple:[],openGraph:[],twitter:[],manifest:void 0}}],u=["C:\\Projects\\shop-from-bharat\\src\\app\\verify-otp\\page.js"],d={require:r,loadChunk:()=>Promise.resolve()},p=new s.AppPageRouteModule({definition:{kind:i.RouteKind.APP_PAGE,page:"/verify-otp/page",pathname:"/verify-otp",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},31656:(e,t,r)=>{Promise.resolve().then(r.bind(r,31099))},95208:(e,t,r)=>{Promise.resolve().then(r.bind(r,16372))},16372:(e,t,r)=>{"use strict";r.d(t,{default:()=>D});var s=r(45512),i=r(58009),a=r.n(i),n=r(34681),l=r.n(n),o=r(11643),c=r(22403),u=r(66521),d=r(38716),p=r(52723),f=r(82281),h=r(37435),_=r(63811),m=r(86807),g=r(60205),x=r(65343),v=r(82834),y=r(73420);let b=(0,r(31137).A)("MuiBox",["root"]),j=(0,v.A)(),w=function(e={}){let{themeId:t,defaultTheme:r,defaultClassName:a="MuiBox-root",generateClassName:n}=e,l=(0,h.Ay)("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(_.A);return i.forwardRef(function(e,i){let o=(0,g.A)(r),{className:c,component:u="div",...d}=(0,m.A)(e);return(0,s.jsx)(l,{as:u,ref:i,className:(0,f.A)(c,n?n(a):a),theme:t&&o[t]||o,...d})})}({themeId:y.A,defaultTheme:j,defaultClassName:b.root,generateClassName:x.A.generate}),A={TextFieldStyled:(0,d.Ay)(p.A)`
  input {
    text-align: center;
  }
`},O=e=>(0,s.jsx)(A.TextFieldStyled,{...e}),C={left:"ArrowLeft",right:"ArrowRight",backspace:"Backspace",home:"Home",end:"End"};function P(e){let t=a().useRef(()=>{throw Error("Cannot call an event handler while rendering.")});return a().useInsertionEffect(()=>{t.current=e}),a().useCallback((...e)=>t.current?.(...e),[])}let V=()=>!0,N=a().forwardRef((e,t)=>{let{value:r="",length:i=4,autoFocus:n=!1,onChange:l,TextFieldsProps:o,onComplete:c,validateChar:u=V,className:d,onBlur:p,...f}=e,h=a().useRef(r),_=P(c),m=P(e=>{let t=e.slice(0,i);return{isCompleted:t.length===i,finalValue:t}});a().useEffect(()=>{let{isCompleted:e,finalValue:t}=m(h.current);e&&_(t)},[i,_,m]);let g=function(e,t){return e<=0?[]:Array.from({length:e},t)}(i,(e,t)=>({character:r[t]||"",inputRef:a().createRef()})),x=e=>g.findIndex(({inputRef:t})=>t.current===e),v=()=>g.map(({character:e})=>e),y=(e,t)=>v().map((r,s)=>e===s?t:r).join(""),b=e=>{g[e]?.inputRef.current?.focus()},j=e=>{g[e]?.inputRef.current?.select()},A=e=>{e+1!==i&&(g[e+1].character?j(e+1):b(e+1))},N=(e,t)=>"function"!=typeof u||u(e,t),E=e=>{let t=x(e.target);if(0===t&&e.target.value.length>1){let{finalValue:t,isCompleted:r}=m(e.target.value);l?.(t),r&&c?.(t),j(t.length-1);return}let r=e.target.value[0]||"",s=r;s&&!N(s,t)&&(s="");let i=y(t,s);l?.(i);let{isCompleted:a,finalValue:n}=m(i);a&&c?.(n),""!==s?i.length-1<t?j(i.length):A(t):""===r&&i.length<=t&&j(t-1)},R=e=>{let t=e.target,r=t.selectionStart,s=t.selectionEnd,i=x(t);if(t.value===e.key)e.preventDefault(),A(i);else if(C.backspace===e.key){if(t.value){if(0===r&&0===s){e.preventDefault();let t=y(i,"");l?.(t),t.length<=i&&j(i-1)}}else e.preventDefault(),j(i-1)}else C.left===e.key?(e.preventDefault(),j(i-1)):C.right===e.key?(e.preventDefault(),j(i+1)):C.home===e.key?(e.preventDefault(),j(0)):C.end===e.key&&(e.preventDefault(),j(g.length-1))},k=e=>{var t,r;let s=e.clipboardData.getData("text/plain"),a=e.target,n=g.findIndex(({character:e,inputRef:t})=>""===e||t.current===a),o=(t=v(),r=s.split(""),t.reduce((e,t,r)=>{let{characters:s,restArrayMerged:i}=e;if(r<n)return{restArrayMerged:i,characters:[...s,t]};let[a,...l]=i;return{restArrayMerged:l,characters:[...s,a||""]}},{restArrayMerged:r,characters:[]}).characters).map((e,t)=>N(e,t)?e:"").join("");l?.(o);let{isCompleted:u,finalValue:d}=m(o);u?(c?.(d),j(i-1)):j(o.length)},q=e=>{if(!g.some(({inputRef:t})=>t.current===e.relatedTarget)){let{isCompleted:e,finalValue:t}=m(r);p?.(t,e)}};return(0,s.jsx)(w,{display:"flex",gap:"20px",alignItems:"center",ref:t,className:`MuiOtpInput-Box ${d||""}`,...f,children:g.map(({character:e,inputRef:t},r)=>{var i;let{onPaste:a,onFocus:l,onKeyDown:c,className:u,onBlur:d,inputRef:p,...f}="function"==typeof o?o(r)||{}:o||{};return(0,s.jsx)(O,{autoFocus:!!n&&0===r,autoComplete:"one-time-code",value:e,inputRef:(i=[t,p],e=>{i.forEach(t=>{"function"==typeof t?t(e):null!=t&&(t.current=e)})}),className:`MuiOtpInput-TextField MuiOtpInput-TextField-${r+1} ${u||""}`,onPaste:e=>{e.preventDefault(),k(e),a?.(e)},onFocus:e=>{e.preventDefault(),e.target.select(),l?.(e)},onChange:E,onKeyDown:e=>{R(e),c?.(e)},onBlur:e=>{d?.(e),q(e)},...f},r)})})});var E=r(45103),R=r(62209),k=r(44191),q=r(38684);let T=(0,o.Ay)(N)`
  display: flex;
  gap: 30px;
  max-width: 60%;
  margin-inline: auto;
`,D=()=>{let[e,t]=(0,i.useState)(""),[r,a]=(0,i.useState)(""),[n,o]=(0,i.useState)(""),[d,p]=(0,i.useState)(10);(0,i.useEffect)(()=>{let e=new URLSearchParams(window.location.search),t=e.get("email"),r=e.get("jwtSecret");t&&r?(a(t),o(r)):(c.Ay.error("Missing email or JWT secret."),window.location.href="/")},[]);let f=async()=>{try{let t=await (0,u.A)("POST","api/auth/verify/email/otp",{email:r,otp:e,jwtSecret:n});t.status?(localStorage.setItem("JWT_TOKEN",t.secret),c.Ay.success("OTP verification successful!"),localStorage.setItem("isLoggedIn","true"),localStorage.setItem("email",r),setTimeout(()=>{window.location.href="/address"},2e3)):c.Ay.error(t.message)}catch(e){console.error("Error verifying OTP:",e),c.Ay.error("An error occurred while verifying OTP.")}};return(0,i.useEffect)(()=>{let e=setInterval(()=>{p(t=>t>0?t-1:(clearInterval(e),t))},1e3);return()=>clearInterval(e)},[]),(0,s.jsxs)("div",{className:l().login,children:[(0,s.jsxs)("div",{className:l().login_left,children:[(0,s.jsx)("div",{className:l().login_left_header,children:(0,s.jsx)("h1",{children:"Enter your Details"})}),(0,s.jsxs)("div",{className:l().ellipses,children:[(0,s.jsx)("div",{className:l().ellipses_small,children:(0,s.jsx)(E.default,{src:k.A,alt:"Small Ellipse",width:100,height:100})}),(0,s.jsx)("div",{className:l().ellipses_main,children:(0,s.jsx)(E.default,{src:R.A,alt:"Main Ellipse",width:150,height:150})})]})]}),(0,s.jsx)("div",{className:l().login_right,children:(0,s.jsxs)("div",{className:l().login_form,children:[(0,s.jsx)("div",{className:l().brand_logo,children:(0,s.jsx)(E.default,{src:q.A,alt:"ShopBharat Logo",width:150,height:50})}),(0,s.jsx)("div",{className:l().login_form_heading,children:(0,s.jsx)("h1",{children:"OTP Verification"})}),(0,s.jsx)(T,{value:e,onChange:e=>{t(e)}}),(0,s.jsxs)("div",{className:l().countdown_text,children:[(0,s.jsxs)("p",{children:["Time Remaining:"," ",(0,s.jsx)("span",{style:{fontWeight:600},children:d<10?`0${d}`:d})]}),(0,s.jsx)("button",{disabled:d>0,style:d>0?{color:"#DFE3E8"}:{color:"#FF5630"},onClick:()=>{p(10),console.log("Resending OTP...")},children:"RESEND OTP"})]}),(0,s.jsx)("div",{className:l().button,children:(0,s.jsx)("button",{onClick:f,children:"CONTINUE"})}),(0,s.jsxs)("div",{className:l().dont_have_account,children:["Want to change your email?"," ",(0,s.jsx)("span",{onClick:()=>window.history.back(),className:l().change_email_option,children:"Click here"})]})]})})]})}},34681:e=>{e.exports={login:"VerifyOtp_login__6iVni",login_left:"VerifyOtp_login_left__OKF5W",login_left_header:"VerifyOtp_login_left_header__rDQDl",login_right:"VerifyOtp_login_right__6dwez",brand_logo:"VerifyOtp_brand_logo__y8PEZ",login_form:"VerifyOtp_login_form__iI4Ne",textField:"VerifyOtp_textField__OCmoo",button:"VerifyOtp_button__XwQ2e",google_button:"VerifyOtp_google_button__eVzlw",line:"VerifyOtp_line__QRH2w",border_left:"VerifyOtp_border_left__f3M4q",border_right:"VerifyOtp_border_right__FlfCx",line_or:"VerifyOtp_line_or__SuwAL",ellipses:"VerifyOtp_ellipses__Gl_vH",ellipses_main:"VerifyOtp_ellipses_main__oNDXk",ellipses_small:"VerifyOtp_ellipses_small__1Wzqb",countdown_text:"VerifyOtp_countdown_text__rbTlP",change_email_option:"VerifyOtp_change_email_option__FRpgw"}},31099:(e,t,r)=>{"use strict";r.d(t,{default:()=>s});let s=(0,r(46760).registerClientReference)(function(){throw Error("Attempted to call the default export of \"C:\\\\Projects\\\\shop-from-bharat\\\\src\\\\Components\\\\Auth\\\\VerifyOtp\\\\VerifyOtp.js\" from the server, but it's on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.")},"C:\\Projects\\shop-from-bharat\\src\\Components\\Auth\\VerifyOtp\\VerifyOtp.js","default")},53225:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>a});var s=r(62740),i=r(31099);r(76301);let a=()=>(0,s.jsx)(i.default,{})},38684:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});let s={src:"/_next/static/media/shopBharat.920a31b6.svg",height:233,width:233,blurWidth:0,blurHeight:0}},70440:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>i});var s=r(88077);let i=async e=>[{type:"image/x-icon",sizes:"16x16",url:(0,s.fillMetadataSegment)(".",await e.params,"favicon.ico")+""}]}};var t=require("../../webpack-runtime.js");t.C(e);var r=e=>t(t.s=e),s=t.X(0,[5994,3046,8077,2229],()=>r(37619));module.exports=s})();